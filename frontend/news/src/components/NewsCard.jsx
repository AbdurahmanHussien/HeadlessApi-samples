import React from 'react';
import {useNavigate} from "react-router-dom";

const NewsCard = ({ article }) => {
    // Use Liferay URL or a placeholder
    const navigate = useNavigate();
    const imageUrl = article.image
        ? `http://localhost:8080${article.image}`
        : "https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1000&auto=format&fit=crop";

    const dateStr = article.date ? new Date(article.date).toLocaleDateString("en-GB") : "";

    return (
        <div className="news-card">
            <div className="card-inner">

                {/* --- FRONT SIDE --- */}
                <div className="card-front">
                    <img src={imageUrl} alt={article.title} />
                    <div className="overlay">
                        <div className="date-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M5.66536 8.99935C5.20513 8.99935 4.83203 9.37245 4.83203 9.83268C4.83203 10.2929 5.20513 10.666 5.66536 10.666H5.67284C6.13308 10.666 6.50618 10.2929 6.50618 9.83268C6.50618 9.37245 6.13308 8.99935 5.67284 8.99935H5.66536Z" fill="#6C6C6C"></path>
                                <path d="M8.99496 8.99935C8.53472 8.99935 8.16163 9.37245 8.16163 9.83268C8.16163 10.2929 8.53472 10.666 8.99496 10.666H9.00244C9.46267 10.666 9.83577 10.2929 9.83577 9.83268C9.83577 9.37245 9.46267 8.99935 9.00244 8.99935H8.99496Z" fill="#6C6C6C"></path>
                                <path d="M12.3246 8.99935C11.8643 8.99935 11.4912 9.37245 11.4912 9.83268C11.4912 10.2929 11.8643 10.666 12.3246 10.666H12.332C12.7923 10.666 13.1654 10.2929 13.1654 9.83268C13.1654 9.37245 12.7923 8.99935 12.332 8.99935H12.3246Z" fill="#6C6C6C"></path>
                                <path d="M5.66536 12.3327C5.20513 12.3327 4.83203 12.7058 4.83203 13.166C4.83203 13.6263 5.20513 13.9993 5.66536 13.9993H5.67284C6.13308 13.9993 6.50618 13.6263 6.50618 13.166C6.50618 12.7058 6.13308 12.3327 5.67284 12.3327H5.66536Z" fill="#6C6C6C"></path>
                                <path d="M8.99496 12.3327C8.53472 12.3327 8.16163 12.7058 8.16163 13.166C8.16163 13.6263 8.53472 13.9993 8.99496 13.9993H9.00244C9.46267 13.9993 9.83577 13.6263 9.83577 13.166C9.83577 12.7058 9.46267 12.3327 9.00244 12.3327H8.99496Z" fill="#6C6C6C"></path>
                                <path fillRule="evenodd" clipRule="evenodd" d="M4.6237 0.666016C4.6237 0.320838 4.34388 0.0410156 3.9987 0.0410156C3.65352 0.0410156 3.3737 0.320838 3.3737 0.666016V1.19501C2.70307 1.38508 2.13745 1.69401 1.66665 2.20298C1.01839 2.9038 0.730239 3.78928 0.592239 4.89894C0.457015 5.98627 0.457022 7.37974 0.457031 9.15771V9.67432C0.457022 11.4523 0.457015 12.8458 0.592239 13.9331C0.730239 15.0427 1.01839 15.9282 1.66665 16.629C2.32132 17.3368 3.15933 17.6577 4.2081 17.8102C5.22313 17.9577 6.51999 17.9577 8.1564 17.9577H9.841C11.4774 17.9577 12.7743 17.9577 13.7893 17.8102C14.8381 17.6577 15.6761 17.3368 16.3307 16.629C16.979 15.9282 17.2672 15.0427 17.4052 13.9331C17.5404 12.8458 17.5404 11.4523 17.5404 9.67429V9.15774C17.5404 7.37975 17.5404 5.98627 17.4052 4.89894C17.2672 3.78928 16.979 2.9038 16.3307 2.20298C15.8599 1.69401 15.2943 1.38508 14.6237 1.19501V0.666016C14.6237 0.320838 14.3439 0.0410156 13.9987 0.0410156C13.6535 0.0410156 13.3737 0.320838 13.3737 0.666016V0.970928C12.427 0.874325 11.262 0.874336 9.84099 0.874349H8.1564C6.73538 0.874336 5.57042 0.874325 4.6237 0.970928V0.666016ZM3.39753 2.50422C3.47208 2.766 3.71301 2.95768 3.9987 2.95768C4.34388 2.95768 4.6237 2.67786 4.6237 2.33268V2.22817C5.50787 2.12565 6.65067 2.12435 8.20703 2.12435H9.79037C11.3467 2.12435 12.4895 2.12565 13.3737 2.22817V2.33268C13.3737 2.67786 13.6535 2.95768 13.9987 2.95768C14.2844 2.95768 14.5253 2.766 14.5999 2.50422C14.9393 2.63928 15.197 2.81815 15.4131 3.05179C15.8074 3.47801 16.0408 4.06258 16.1639 5.04632C16.1371 5.04282 16.1098 5.04102 16.082 5.04102H1.91536C1.88763 5.04102 1.86032 5.04282 1.83354 5.04632C1.95663 4.06258 2.19002 3.47801 2.58428 3.05179C2.80039 2.81815 3.05811 2.63927 3.39753 2.50422ZM1.74047 6.26622C1.7075 7.06864 1.70703 8.02963 1.70703 9.20205V9.62998C1.70703 11.4619 1.70817 12.7776 1.83268 13.7788C1.95554 14.7667 2.1891 15.353 2.58428 15.7802C2.97304 16.2005 3.49643 16.4436 4.3879 16.5732C5.30266 16.7061 6.50859 16.7077 8.20703 16.7077H9.79037C11.4888 16.7077 12.6947 16.7061 13.6095 16.5732C14.501 16.4436 15.0244 16.2005 15.4131 15.7802C15.8083 15.353 16.0419 14.7667 16.1647 13.7788C16.2892 12.7776 16.2904 11.4619 16.2904 9.62998V9.20205C16.2904 8.02963 16.2899 7.06864 16.2569 6.26622C16.2014 6.28236 16.1427 6.29102 16.082 6.29102H1.91536C1.85466 6.29102 1.79597 6.28236 1.74047 6.26622Z" fill="#6C6C6C"></path>
                            </svg>
                            <span>{dateStr}</span>
                        </div>
                        <h3>{article.title}</h3>
                    </div>
                </div>

                {/* --- BACK SIDE --- */}
                <div className="card-back">
                    <div className="date-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                            <path d="M5.66536 8.99935C5.20513 8.99935 4.83203 9.37245 4.83203 9.83268C4.83203 10.2929 5.20513 10.666 5.66536 10.666H5.67284C6.13308 10.666 6.50618 10.2929 6.50618 9.83268C6.50618 9.37245 6.13308 8.99935 5.67284 8.99935H5.66536Z" fill="#6C6C6C"></path>
                            <path d="M8.99496 8.99935C8.53472 8.99935 8.16163 9.37245 8.16163 9.83268C8.16163 10.2929 8.53472 10.666 8.99496 10.666H9.00244C9.46267 10.666 9.83577 10.2929 9.83577 9.83268C9.83577 9.37245 9.46267 8.99935 9.00244 8.99935H8.99496Z" fill="#6C6C6C"></path>
                            <path d="M12.3246 8.99935C11.8643 8.99935 11.4912 9.37245 11.4912 9.83268C11.4912 10.2929 11.8643 10.666 12.3246 10.666H12.332C12.7923 10.666 13.1654 10.2929 13.1654 9.83268C13.1654 9.37245 12.7923 8.99935 12.332 8.99935H12.3246Z" fill="#6C6C6C"></path>
                            <path d="M5.66536 12.3327C5.20513 12.3327 4.83203 12.7058 4.83203 13.166C4.83203 13.6263 5.20513 13.9993 5.66536 13.9993H5.67284C6.13308 13.9993 6.50618 13.6263 6.50618 13.166C6.50618 12.7058 6.13308 12.3327 5.67284 12.3327H5.66536Z" fill="#6C6C6C"></path>
                            <path d="M8.99496 12.3327C8.53472 12.3327 8.16163 12.7058 8.16163 13.166C8.16163 13.6263 8.53472 13.9993 8.99496 13.9993H9.00244C9.46267 13.9993 9.83577 13.6263 9.83577 13.166C9.83577 12.7058 9.46267 12.3327 9.00244 12.3327H8.99496Z" fill="#6C6C6C"></path>
                            <path fillRule="evenodd" clipRule="evenodd" d="M4.6237 0.666016C4.6237 0.320838 4.34388 0.0410156 3.9987 0.0410156C3.65352 0.0410156 3.3737 0.320838 3.3737 0.666016V1.19501C2.70307 1.38508 2.13745 1.69401 1.66665 2.20298C1.01839 2.9038 0.730239 3.78928 0.592239 4.89894C0.457015 5.98627 0.457022 7.37974 0.457031 9.15771V9.67432C0.457022 11.4523 0.457015 12.8458 0.592239 13.9331C0.730239 15.0427 1.01839 15.9282 1.66665 16.629C2.32132 17.3368 3.15933 17.6577 4.2081 17.8102C5.22313 17.9577 6.51999 17.9577 8.1564 17.9577H9.841C11.4774 17.9577 12.7743 17.9577 13.7893 17.8102C14.8381 17.6577 15.6761 17.3368 16.3307 16.629C16.979 15.9282 17.2672 15.0427 17.4052 13.9331C17.5404 12.8458 17.5404 11.4523 17.5404 9.67429V9.15774C17.5404 7.37975 17.5404 5.98627 17.4052 4.89894C17.2672 3.78928 16.979 2.9038 16.3307 2.20298C15.8599 1.69401 15.2943 1.38508 14.6237 1.19501V0.666016C14.6237 0.320838 14.3439 0.0410156 13.9987 0.0410156C13.6535 0.0410156 13.3737 0.320838 13.3737 0.666016V0.970928C12.427 0.874325 11.262 0.874336 9.84099 0.874349H8.1564C6.73538 0.874336 5.57042 0.874325 4.6237 0.970928V0.666016ZM3.39753 2.50422C3.47208 2.766 3.71301 2.95768 3.9987 2.95768C4.34388 2.95768 4.6237 2.67786 4.6237 2.33268V2.22817C5.50787 2.12565 6.65067 2.12435 8.20703 2.12435H9.79037C11.3467 2.12435 12.4895 2.12565 13.3737 2.22817V2.33268C13.3737 2.67786 13.6535 2.95768 13.9987 2.95768C14.2844 2.95768 14.5253 2.766 14.5999 2.50422C14.9393 2.63928 15.197 2.81815 15.4131 3.05179C15.8074 3.47801 16.0408 4.06258 16.1639 5.04632C16.1371 5.04282 16.1098 5.04102 16.082 5.04102H1.91536C1.88763 5.04102 1.86032 5.04282 1.83354 5.04632C1.95663 4.06258 2.19002 3.47801 2.58428 3.05179C2.80039 2.81815 3.05811 2.63927 3.39753 2.50422ZM1.74047 6.26622C1.7075 7.06864 1.70703 8.02963 1.70703 9.20205V9.62998C1.70703 11.4619 1.70817 12.7776 1.83268 13.7788C1.95554 14.7667 2.1891 15.353 2.58428 15.7802C2.97304 16.2005 3.49643 16.4436 4.3879 16.5732C5.30266 16.7061 6.50859 16.7077 8.20703 16.7077H9.79037C11.4888 16.7077 12.6947 16.7061 13.6095 16.5732C14.501 16.4436 15.0244 16.2005 15.4131 15.7802C15.8083 15.353 16.0419 14.7667 16.1647 13.7788C16.2892 12.7776 16.2904 11.4619 16.2904 9.62998V9.20205C16.2904 8.02963 16.2899 7.06864 16.2569 6.26622C16.2014 6.28236 16.1427 6.29102 16.082 6.29102H1.91536C1.85466 6.29102 1.79597 6.28236 1.74047 6.26622Z" fill="#6C6C6C"></path>
                        </svg>
                        <span>{dateStr}</span>
                    </div>
                    <h3>{article.title}</h3>
                    <p>{article.description}</p>
                    <button
                        className="btn"
                        onClick={() => navigate(`/news/${article.id}`)}
                    >
                        News Details
                    </button>
                </div>

            </div>
        </div>
    );
};

export default NewsCard;